<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

    <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>How to use Zaq: Codeigniter Template Parser Engine - Arka Roy</title>
    <meta name="description" content="Zaq is a PHP based template parser engine developed to work with Codeigniter. This library has been developed for developers to integrate php codes in views easily. Using this library will also allow the view file to be more readable. View files in Codeigniter (or in any other framework following MVC) always contains both html and php codes which make them a bit harder to read. This problem can be eradicated by using a parser engine which makes the view files a lot more easier to work with.

">
    <meta name="author" content="Arka Roy">
    <meta name="google-site-verification" content="Hoal6De7aoiiqdo7jTEmhXXXJo571pQuGeRjB3hY3-c">
    <meta name="msvalidate.01" content="AECE4670236DEBC0B41933B8F9A56547">
    <meta name="yandex-verification" content="5f83a425d7a76ae8">
    <meta name="p:domain_verify" content="a2b47611cc9905cb28e8b90214a6026b">
    <link href="http://fonts.googleapis.com/css?family=Asap:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,200,500,600,700,800,900' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link href="http://www.arkaroy.net/feed.xml" rel="alternate" type="application/atom+xml" title="Arka Roy">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/image/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/image/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/image/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/image/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/image/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/image/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/image/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/image/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/image/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/image/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/image/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/image/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/image/icon/favicon-16x16.png">
    <!--
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    -->

    <link rel="author" href="https://plus.google.com/+ArkaRoyGPlus">
    <meta property="fb:admins" content="100000470507339">

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="How to use Zaq: Codeigniter Template Parser Engine - Arka Roy">
    <meta itemprop="description" content="Zaq is a PHP based template parser engine developed to work with Codeigniter. This library has been developed for developers to integrate php codes in views easily. Using this library will also allow the view file to be more readable. View files in Codeigniter (or in any other framework following MVC) always contains both html and php codes which make them a bit harder to read. This problem can be eradicated by using a parser engine which makes the view files a lot more easier to work with.

">
    <meta itemprop="image" content="http://www.arkaroy.net/assets/image/default-thumbnail.jpg">

    <!-- Open Graph data for Facebook -->
    <meta property="og:title" content="How to use Zaq: Codeigniter Template Parser Engine - Arka Roy">
    <meta property="og:image" content="http://www.arkaroy.net/assets/image/default-thumbnail.jpg">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/">
    <meta property="og:description" content="Zaq is a PHP based template parser engine developed to work with Codeigniter. This library has been developed for developers to integrate php codes in views easily. Using this library will also allow the view file to be more readable. View files in Codeigniter (or in any other framework following MVC) always contains both html and php codes which make them a bit harder to read. This problem can be eradicated by using a parser engine which makes the view files a lot more easier to work with.

">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/">
    <meta name="twitter:title" content="How to use Zaq: Codeigniter Template Parser Engine - Arka Roy">
    <meta name="twitter:description" content="Zaq is a PHP based template parser engine developed to work with Codeigniter. This library has been developed for developers to integrate php codes in views easily. Using this library will also allow the view file to be more readable. View files in Codeigniter (or in any other framework following MVC) always contains both html and php codes which make them a bit harder to read. This problem can be eradicated by using a parser engine which makes the view files a lot more easier to work with.

">
    <meta name="twitter:image" content="http://www.arkaroy.net/assets/image/default-thumbnail.jpg">
    <meta name="twitter:site" content="@iarkaroy">
    <meta name="twitter:creator" content="@iarkaroy">

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-61692534-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

    <body>

        <div class="page-wrapper">
            
            <div class="page-header">
                <div class="display-table">

    <header class="display-cell">

        <a href="http://www.arkaroy.net" class="logo">
            <i class="icon-arkaroy-logo"></i>
            <span>Arka Roy</span>
        </a>

        <p>I'm a passionate and proficient web designer and application developer residing in Kolkata, India.</p>

        <nav class="main-nav">

            <ul class="main-menu list-inline">
                <li><a href="/about/">About</a></li>
                <li class="menu-separator"></li>
                <li><a href="/portfolio/">Portfolio</a></li>
                <li class="menu-separator"></li>
                <li><a href="/blog/">Blog</a></li>
                <li class="menu-separator"></li>
                <li><a href="/contact/">Contact</a></li>
            </ul>                

        </nav>

    </header>

</div>
            </div>
            
            <div class="page-content">
                <div class="entry post-entry single">

    <header class="entry-header">
        <h1 class="entry-title">How to use Zaq: Codeigniter Template Parser Engine</h1>
        <p class="entry-meta"><em>Apr 8, 2015 by Arka Roy</em></p>
        <div class="social-share clearfix" data-url="http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/">
    <a class="twitter" href="https://twitter.com/intent/tweet?text=How to use Zaq: Codeigniter Template Parser Engine&url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/&via=iarkaroy&related=iarkaroy" rel="nofollow" target="_blank" title="Share this on Twitter">
        <i class="fa fa-twitter"></i>
        <span class="shares-twitter">0</span>
    </a>
    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?t=How to use Zaq: Codeigniter Template Parser Engine&u=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on Facebook">
        <i class="fa fa-facebook"></i>
        <span class="shares-facebook">0</span>
    </a>
    <a class="googleplus" href="https://plus.google.com/share?url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on Google Plus">
        <i class="fa fa-google-plus"></i>
        <span class="shares-googleplus">0</span>
    </a>
    <a class="linkedin" href="http://www.linkedin.com/shareArticle?mini=true&title=How to use Zaq: Codeigniter Template Parser Engine&url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on LinkedIn">
        <i class="fa fa-linkedin"></i>
        <span class="shares-linkedin">0</span>
    </a>
</div>
        
        <br>
        
    </header>

    <article class="entry-content">
        <p>Zaq is a PHP based template parser engine developed to work with Codeigniter. This library has been developed for developers to integrate php codes in views easily. Using this library will also allow the view file to be more readable. View files in Codeigniter (or in any other framework following MVC) always contains both html and php codes which make them a bit harder to read. This problem can be eradicated by using a parser engine which makes the view files a lot more easier to work with.</p>

<p>Codeigniter, by default, comes with an optional template parser. But, unfortunately, that one does not provide sufficient pseudo markup to work with. Zaq, without doubt, is able to provide much more flexibility while building view files with pseudo markup to replace php codes.</p>

<p>Let’s take a look at Zaq’s insight and usage.</p>

<p><br /></p>

<h2 id="installation">Installation</h2>

<ol>
  <li>
    <p><a href="https://github.com/iarkaroy/Zaq-Codeigniter-Template-Parser/archive/master.zip"><strong>Download Zaq</strong></a></p>
  </li>
  <li>
    <p>Copy <code>libraries/Zaq.php</code> to your <code>application/libraries/</code> folder</p>
  </li>
  <li>
    <p>Copy <code>config/zaq.php</code> to your <code>application/config/</code> folder.</p>
  </li>
  <li>
    <p>Create the folder if not exists: <code>application/cache</code></p>
  </li>
  <li>
    <p>Set <code>application/cache</code> writable.</p>
  </li>
</ol>

<p><br /></p>

<h2 id="initialization">Initialization</h2>

<p>Like other libraries in CodeIgniter, the Zaq library class is initialized in your controller using the <code>$this-&gt;load-&gt;library()</code> method:</p>

<pre><code>$this-&gt;load-&gt;library('zaq');
</code></pre>

<p>Or you can autoload the library in <code>autoload.php</code></p>

<p>Once loaded, the Zaq library object will be available using: <code>$this-&gt;zaq</code></p>

<p><br /></p>

<h2 id="parsing-viewstemplates">Parsing Views/Templates</h2>

<p>You can use the <code>parse()</code> method to parse (or render) your views or templates. The syntax is:</p>

<pre><code>$this-&gt;zaq-&gt;parse( $view, $data = array(), $return = FALSE );
</code></pre>

<p>The first parameter contains the name of the view file, the second parameter contains an associative array of data to be made available in the template, and the third parameter specify whether to return the parsed string.</p>

<p>Example:</p>

<pre><code>$data = array(
    'products' =&gt; array(
        array( 'title' =&gt; 'Shirts', 'link' =&gt; '/shirts' ),
        array( 'title' =&gt; 'Trousers', 'link' =&gt; '/trousers' ),
        array( 'title' =&gt; 'Shoes', 'link' =&gt; '/shoes' ),
        array( 'title' =&gt; 'Belts', 'link' =&gt; '/belts' ),
    ),
);

$this-&gt;zaq-&gt;parse( 'products/list', $data );
</code></pre>

<p>There is no need to “echo” or do something with the data returned by <code>$this-&gt;zaq-&gt;parse()</code>. It is automatically passed to the output class to be sent to the browser. However, if you do want the data returned instead of sent to the output class you can pass TRUE (boolean) as the third parameter:</p>

<pre><code>$string = $this-&gt;zaq-&gt;parse('products/list', $data, TRUE);
</code></pre>

<p><br /></p>

<h2 id="pseudo-markup">Pseudo Markup</h2>

<p>The pseudo markup of Zaq is much more cleaner than its equivalent php code. It enhance the readability and maintainability of the code. Designer will also be cheerful to work with a cleaner file.</p>

<p><br /></p>

<h4 id="foreach"><strong>foreach:</strong></h4>

<p>From the above example, we are creating a template file at <code>products/list.php</code>:</p>

<pre><code>&lt;ul&gt;
{foreach products as product}
    &lt;li&gt;&lt;a href="{product[link]}"&gt;{product[title]}&lt;/a&gt;&lt;/li&gt;
{/foreach}
&lt;/ul&gt;
</code></pre>

<p>The html output will be:</p>

<pre><code>&lt;ul&gt;
    &lt;li&gt;&lt;a href="/shirts"&gt;Shirts&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/trousers"&gt;Trousers&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/shoes"&gt;Shoes&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/belts"&gt;Belts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>To achieve the same output by php code:</p>

<pre><code>&lt;ul&gt;
&lt;?php foreach ( $products as $product ) : ?&gt;
    &lt;li&gt;&lt;a href="&lt;?php echo $product['link'] ; ?&gt;"&gt;&lt;?php echo $product['title'] ; ?&gt;&lt;/a&gt;&lt;/li&gt;
&lt;?php endforeach ; ?&gt;
&lt;/ul&gt;
</code></pre>

<p>Use foreach for associative array</p>

<pre><code>&lt;ul&gt;
{foreach options as item = value}
    &lt;li&gt;{item} =&gt; {value}&lt;/li&gt;
{/foreach}
&lt;/ul&gt;
</code></pre>

<p><br /></p>

<h4 id="ifelseifelse"><strong>if/elseif/else:</strong></h4>

<pre><code>{if product[active]}
    ... do something ...
{elif product[published]}
    ... some other thing ...
{/if}
</code></pre>

<p><br /></p>

<h4 id="echo"><strong>echo:</strong></h4>

<p>All variables and methods will be automatically preceded by <code>echo</code>:</p>

<pre><code>{somevar}
&lt;?php echo $somevar ; ?&gt;

{some_array[assoc_key]}
&lt;?php echo $some_array['assoc_key'] ; ?&gt;

{another_array[$key]}
&lt;?php echo $another_array[$key] ; ?&gt;

{date('Y-m-d H:i:s', now)}
&lt;?php echo date ( 'Y-m-d H:i:s' , $now ) ; ?&gt;

{time()}
&lt;?php echo time ( ) ; ?&gt;

{fname . lname}
&lt;?php echo $fname . $lname ; ?&gt;

{books-&gt;get_by_author(author)-&gt;first()-&gt;title}
&lt;?php echo $books -&gt; get_by_author( $author ) -&gt; first() -&gt; title ; ?&gt;
</code></pre>

<p><br /></p>

<h4 id="constants"><strong>constants:</strong></h4>

<p>To use constants, precede the constant with <code>#</code>:</p>

<pre><code>{if defined('APP_VERSION') &amp;&amp; #APP_VERSION &gt; 2.0}
    ... do something ...
{/if}
</code></pre>

<p><br /></p>

<h2 id="how-zaq-works">How Zaq Works</h2>

<ol>
  <li>
    <p>Parse template and convert pseudo-markup to valid php code.</p>
  </li>
  <li>
    <p>Store the code in a temporary file in its cache folder (configurable).</p>
  </li>
  <li>
    <p>Load view from the temporary folder.</p>
  </li>
  <li>
    <p>Delete the temporary file (configurable).</p>
  </li>
</ol>

<p><br /></p>

<h2 id="configuration">Configuration</h2>

<p>The configuration file, <code>zaq.php</code>, should be located in <code>application/config/</code>.</p>

<p>There are two configuration settings.</p>

<pre><code>$config['cache_dir'] = APPPATH . 'cache/zaq';

$config['enable_cache'] = TRUE;
</code></pre>

<p>The <code>cache_dir</code> setting tells Zaq where to store the temporary files.</p>

<p>If <code>enable_cache</code> setting is set to <code>TRUE</code>, Zaq will keep the temporary files and will skip the parsing process next time if the parsed file is newer than the view file.</p>

<p><br /></p>

<h2 id="helper-methods">Helper Methods</h2>

<p>There are several helper methods to ease the application development a bit more.</p>

<p><br /></p>

<p><code>set_delimiter ( [ $left_delimiter = '{' [ , $right_delimiter = '}' ] ] )</code>:</p>

<p>Sets the delimiters (opening and closing) for a pseudo-markup “tag” in a template.</p>

<p>Parameters:</p>

<ul>
  <li><code>$left_delimiter</code> (String) - Left delimiter</li>
  <li><code>$right_delimiter</code> (String) - Right delimiter</li>
</ul>

<p>Return: void</p>

<p><br /></p>

<p><code>add_exception ( $val )</code>:</p>

<p>Add exception to list of pseudo-markups.</p>

<p>Parameters:</p>

<ul>
  <li><code>$val</code> (String) - The string to skip parsing (without delimiters)</li>
</ul>

<p>Return: void</p>

<p>By default, <code>elapsed_time</code> and <code>memory_usage</code> have been added to the list of exceptions as these are Codeigniter’s default pseudo-markup tag.</p>

    </article>
    
</div>

<div class="social-share clearfix" data-url="http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/">
    <a class="twitter" href="https://twitter.com/intent/tweet?text=How to use Zaq: Codeigniter Template Parser Engine&url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/&via=iarkaroy&related=iarkaroy" rel="nofollow" target="_blank" title="Share this on Twitter">
        <i class="fa fa-twitter"></i>
        <span class="shares-twitter">0</span>
    </a>
    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?t=How to use Zaq: Codeigniter Template Parser Engine&u=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on Facebook">
        <i class="fa fa-facebook"></i>
        <span class="shares-facebook">0</span>
    </a>
    <a class="googleplus" href="https://plus.google.com/share?url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on Google Plus">
        <i class="fa fa-google-plus"></i>
        <span class="shares-googleplus">0</span>
    </a>
    <a class="linkedin" href="http://www.linkedin.com/shareArticle?mini=true&title=How to use Zaq: Codeigniter Template Parser Engine&url=http://www.arkaroy.net/blog/how-to-use-zaq-codeigniter-template-parser/" rel="nofollow" target="_blank" title="Share this on LinkedIn">
        <i class="fa fa-linkedin"></i>
        <span class="shares-linkedin">0</span>
    </a>
</div>

<br>

<div class="posts-nav-links clearfix">
    
    <a href="/blog/category-pagination-in-jekyll/" class="next-post-link" title="Category Pagination in Jekyll">
        <h4>Previous Post</h4>
        <h5>Category Pagination in Jekyll</h5>
    </a>
    
    
</div>
                <footer class="page-footer">
    <ul class="footer-menu list-inline">
        <li><i class="fa fa-copyright fa-fw"></i> 2015 Arka Roy</li>
        <li class="menu-separator"></li>
        <li><a href="http://www.facebook.com/iarkaroy" target="_blank" title="Facebook">Facebook</a></li>
        <li class="menu-separator"></li>
        <li><a href="http://www.twitter.com/iarkaroy" target="_blank" title="Twitter">Twitter</a></li>
        <li class="menu-separator"></li>
        <li><a href="https://plus.google.com/+ArkaRoyGPlus" target="_blank" title="Google+">Google+</a></li>
        <li class="menu-separator"></li>
        <li><a href="https://www.linkedin.com/in/iarkaroy" target="_blank" title="LinkedIn">LinkedIn</a></li>
        <li class="menu-separator"></li>
        <li><a href="http://www.behance.net/iarkaroy" target="_blank" title="Behance">Behance</a></li>
        <li class="menu-separator"></li>
        <li><a href="http://www.github.com/iarkaroy" target="_blank" title="Github">Github</a></li>
    </ul>    
</footer>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/assets/js/script.js"></script>
<script src="/assets/js/social-popularity-analyzer.js"></script>
            </div>        
            
        </div>

    </body>
</html>